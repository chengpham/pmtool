{"ast":null,"code":"function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*! selectize.js - v0.12.6 | https://github.com/selectize/selectize.js | Apache License (v2) */\n!function (a, b) {\n  \"function\" == typeof define && define.amd ? define([\"jquery\", \"sifter\", \"microplugin\"], b) : \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) ? module.exports = b(require(\"jquery\"), require(\"sifter\"), require(\"microplugin\")) : a.Selectize = b(a.jQuery, a.Sifter, a.MicroPlugin);\n}(this, function (a, b, c) {\n  \"use strict\";\n\n  var d = function d(a, b) {\n    if (\"string\" != typeof b || b.length) {\n      var c = \"string\" == typeof b ? new RegExp(b, \"i\") : b,\n          d = function d(a) {\n        var b = 0;\n\n        if (3 === a.nodeType) {\n          var e = a.data.search(c);\n\n          if (e >= 0 && a.data.length > 0) {\n            var f = a.data.match(c),\n                g = document.createElement(\"span\");\n            g.className = \"highlight\";\n            var h = a.splitText(e),\n                i = (h.splitText(f[0].length), h.cloneNode(!0));\n            g.appendChild(i), h.parentNode.replaceChild(g, h), b = 1;\n          }\n        } else if (1 === a.nodeType && a.childNodes && !/(script|style)/i.test(a.tagName) && (\"highlight\" !== a.className || \"SPAN\" !== a.tagName)) for (var j = 0; j < a.childNodes.length; ++j) {\n          j += d(a.childNodes[j]);\n        }\n\n        return b;\n      };\n\n      return a.each(function () {\n        d(this);\n      });\n    }\n  };\n\n  a.fn.removeHighlight = function () {\n    return this.find(\"span.highlight\").each(function () {\n      this.parentNode.firstChild.nodeName;\n      var a = this.parentNode;\n      a.replaceChild(this.firstChild, this), a.normalize();\n    }).end();\n  };\n\n  var e = function e() {};\n\n  e.prototype = {\n    on: function on(a, b) {\n      this._events = this._events || {}, this._events[a] = this._events[a] || [], this._events[a].push(b);\n    },\n    off: function off(a, b) {\n      var c = arguments.length;\n      return 0 === c ? delete this._events : 1 === c ? delete this._events[a] : (this._events = this._events || {}, void (a in this._events != !1 && this._events[a].splice(this._events[a].indexOf(b), 1)));\n    },\n    trigger: function trigger(a) {\n      if (this._events = this._events || {}, a in this._events != !1) for (var b = 0; b < this._events[a].length; b++) {\n        this._events[a][b].apply(this, Array.prototype.slice.call(arguments, 1));\n      }\n    }\n  }, e.mixin = function (a) {\n    for (var b = [\"on\", \"off\", \"trigger\"], c = 0; c < b.length; c++) {\n      a.prototype[b[c]] = e.prototype[b[c]];\n    }\n  };\n\n  var f = /Mac/.test(navigator.userAgent),\n      g = f ? 91 : 17,\n      h = f ? 18 : 17,\n      i = !/android/i.test(window.navigator.userAgent) && !!document.createElement(\"input\").validity,\n      j = function j(a) {\n    return void 0 !== a;\n  },\n      k = function k(a) {\n    return void 0 === a || null === a ? null : \"boolean\" == typeof a ? a ? \"1\" : \"0\" : a + \"\";\n  },\n      l = function l(a) {\n    return (a + \"\").replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\");\n  },\n      m = {};\n\n  m.before = function (a, b, c) {\n    var d = a[b];\n\n    a[b] = function () {\n      return c.apply(a, arguments), d.apply(a, arguments);\n    };\n  }, m.after = function (a, b, c) {\n    var d = a[b];\n\n    a[b] = function () {\n      var b = d.apply(a, arguments);\n      return c.apply(a, arguments), b;\n    };\n  };\n\n  var n = function n(a) {\n    var b = !1;\n    return function () {\n      b || (b = !0, a.apply(this, arguments));\n    };\n  },\n      o = function o(a, b) {\n    var c;\n    return function () {\n      var d = this,\n          e = arguments;\n      window.clearTimeout(c), c = window.setTimeout(function () {\n        a.apply(d, e);\n      }, b);\n    };\n  },\n      p = function p(a, b, c) {\n    var d,\n        e = a.trigger,\n        f = {};\n    a.trigger = function () {\n      var c = arguments[0];\n      if (-1 === b.indexOf(c)) return e.apply(a, arguments);\n      f[c] = arguments;\n    }, c.apply(a, []), a.trigger = e;\n\n    for (d in f) {\n      f.hasOwnProperty(d) && e.apply(a, f[d]);\n    }\n  },\n      q = function q(a, b, c, d) {\n    a.on(b, c, function (b) {\n      for (var c = b.target; c && c.parentNode !== a[0];) {\n        c = c.parentNode;\n      }\n\n      return b.currentTarget = c, d.apply(this, [b]);\n    });\n  },\n      r = function r(a) {\n    var b = {};\n    if (\"selectionStart\" in a) b.start = a.selectionStart, b.length = a.selectionEnd - b.start;else if (document.selection) {\n      a.focus();\n      var c = document.selection.createRange(),\n          d = document.selection.createRange().text.length;\n      c.moveStart(\"character\", -a.value.length), b.start = c.text.length - d, b.length = d;\n    }\n    return b;\n  },\n      s = function s(a, b, c) {\n    var d,\n        e,\n        f = {};\n    if (c) for (d = 0, e = c.length; d < e; d++) {\n      f[c[d]] = a.css(c[d]);\n    } else f = a.css();\n    b.css(f);\n  },\n      t = function t(b, c) {\n    return b ? (w.$testInput || (w.$testInput = a(\"<span />\").css({\n      position: \"absolute\",\n      top: -99999,\n      left: -99999,\n      width: \"auto\",\n      padding: 0,\n      whiteSpace: \"pre\"\n    }).appendTo(\"body\")), w.$testInput.text(b), s(c, w.$testInput, [\"letterSpacing\", \"fontSize\", \"fontFamily\", \"fontWeight\", \"textTransform\"]), w.$testInput.width()) : 0;\n  },\n      u = function u(a) {\n    var b = null,\n        c = function c(_c, d) {\n      var e, f, g, h, i, j, k, l;\n      _c = _c || window.event || {}, d = d || {}, _c.metaKey || _c.altKey || (d.force || !1 !== a.data(\"grow\")) && (e = a.val(), _c.type && \"keydown\" === _c.type.toLowerCase() && (f = _c.keyCode, g = f >= 48 && f <= 57 || f >= 65 && f <= 90 || f >= 96 && f <= 111 || f >= 186 && f <= 222 || 32 === f, 46 === f || 8 === f ? (l = r(a[0]), l.length ? e = e.substring(0, l.start) + e.substring(l.start + l.length) : 8 === f && l.start ? e = e.substring(0, l.start - 1) + e.substring(l.start + 1) : 46 === f && void 0 !== l.start && (e = e.substring(0, l.start) + e.substring(l.start + 1))) : g && (j = _c.shiftKey, k = String.fromCharCode(_c.keyCode), k = j ? k.toUpperCase() : k.toLowerCase(), e += k)), h = a.attr(\"placeholder\"), !e && h && (e = h), (i = t(e, a) + 4) !== b && (b = i, a.width(i), a.triggerHandler(\"resize\")));\n    };\n\n    a.on(\"keydown keyup update blur\", c), c();\n  },\n      v = function v(a) {\n    var b = document.createElement(\"div\");\n    return b.appendChild(a.cloneNode(!0)), b.innerHTML;\n  },\n      w = function w(c, d) {\n    var e,\n        f,\n        g,\n        h,\n        i = this;\n    h = c[0], h.selectize = i;\n    var j = window.getComputedStyle && window.getComputedStyle(h, null);\n\n    if (g = j ? j.getPropertyValue(\"direction\") : h.currentStyle && h.currentStyle.direction, g = g || c.parents(\"[dir]:first\").attr(\"dir\") || \"\", a.extend(i, {\n      order: 0,\n      settings: d,\n      $input: c,\n      tabIndex: c.attr(\"tabindex\") || \"\",\n      tagType: \"select\" === h.tagName.toLowerCase() ? 1 : 2,\n      rtl: /rtl/i.test(g),\n      eventNS: \".selectize\" + ++w.count,\n      highlightedValue: null,\n      isBlurring: !1,\n      isOpen: !1,\n      isDisabled: !1,\n      isRequired: c.is(\"[required]\"),\n      isInvalid: !1,\n      isLocked: !1,\n      isFocused: !1,\n      isInputHidden: !1,\n      isSetup: !1,\n      isShiftDown: !1,\n      isCmdDown: !1,\n      isCtrlDown: !1,\n      ignoreFocus: !1,\n      ignoreBlur: !1,\n      ignoreHover: !1,\n      hasOptions: !1,\n      currentResults: null,\n      lastValue: \"\",\n      caretPos: 0,\n      loading: 0,\n      loadedSearches: {},\n      $activeOption: null,\n      $activeItems: [],\n      optgroups: {},\n      options: {},\n      userOptions: {},\n      items: [],\n      renderCache: {},\n      onSearchChange: null === d.loadThrottle ? i.onSearchChange : o(i.onSearchChange, d.loadThrottle)\n    }), i.sifter = new b(this.options, {\n      diacritics: d.diacritics\n    }), i.settings.options) {\n      for (e = 0, f = i.settings.options.length; e < f; e++) {\n        i.registerOption(i.settings.options[e]);\n      }\n\n      delete i.settings.options;\n    }\n\n    if (i.settings.optgroups) {\n      for (e = 0, f = i.settings.optgroups.length; e < f; e++) {\n        i.registerOptionGroup(i.settings.optgroups[e]);\n      }\n\n      delete i.settings.optgroups;\n    }\n\n    i.settings.mode = i.settings.mode || (1 === i.settings.maxItems ? \"single\" : \"multi\"), \"boolean\" != typeof i.settings.hideSelected && (i.settings.hideSelected = \"multi\" === i.settings.mode), i.initializePlugins(i.settings.plugins), i.setupCallbacks(), i.setupTemplates(), i.setup();\n  };\n\n  return e.mixin(w), void 0 !== c ? c.mixin(w) : function (a, b) {\n    b || (b = {});\n    console.error(\"Selectize: \" + a), b.explanation && (console.group && console.group(), console.error(b.explanation), console.group && console.groupEnd());\n  }(\"Dependency MicroPlugin is missing\", {\n    explanation: 'Make sure you either: (1) are using the \"standalone\" version of Selectize, or (2) require MicroPlugin before you load Selectize.'\n  }), a.extend(w.prototype, {\n    setup: function setup() {\n      var b,\n          c,\n          d,\n          e,\n          j,\n          k,\n          l,\n          m,\n          n,\n          o,\n          p = this,\n          r = p.settings,\n          s = p.eventNS,\n          t = a(window),\n          v = a(document),\n          w = p.$input;\n\n      if (l = p.settings.mode, m = w.attr(\"class\") || \"\", b = a(\"<div>\").addClass(r.wrapperClass).addClass(m).addClass(l), c = a(\"<div>\").addClass(r.inputClass).addClass(\"items\").appendTo(b), d = a('<input type=\"text\" autocomplete=\"off\" />').appendTo(c).attr(\"tabindex\", w.is(\":disabled\") ? \"-1\" : p.tabIndex), k = a(r.dropdownParent || b), e = a(\"<div>\").addClass(r.dropdownClass).addClass(l).hide().appendTo(k), j = a(\"<div>\").addClass(r.dropdownContentClass).appendTo(e), (o = w.attr(\"id\")) && (d.attr(\"id\", o + \"-selectized\"), a(\"label[for='\" + o + \"']\").attr(\"for\", o + \"-selectized\")), p.settings.copyClassesToDropdown && e.addClass(m), b.css({\n        width: w[0].style.width\n      }), p.plugins.names.length && (n = \"plugin-\" + p.plugins.names.join(\" plugin-\"), b.addClass(n), e.addClass(n)), (null === r.maxItems || r.maxItems > 1) && 1 === p.tagType && w.attr(\"multiple\", \"multiple\"), p.settings.placeholder && d.attr(\"placeholder\", r.placeholder), !p.settings.splitOn && p.settings.delimiter) {\n        var x = p.settings.delimiter.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n        p.settings.splitOn = new RegExp(\"\\\\s*\" + x + \"+\\\\s*\");\n      }\n\n      w.attr(\"autocorrect\") && d.attr(\"autocorrect\", w.attr(\"autocorrect\")), w.attr(\"autocapitalize\") && d.attr(\"autocapitalize\", w.attr(\"autocapitalize\")), d[0].type = w[0].type, p.$wrapper = b, p.$control = c, p.$control_input = d, p.$dropdown = e, p.$dropdown_content = j, e.on(\"mouseenter mousedown click\", \"[data-disabled]>[data-selectable]\", function (a) {\n        a.stopImmediatePropagation();\n      }), e.on(\"mouseenter\", \"[data-selectable]\", function () {\n        return p.onOptionHover.apply(p, arguments);\n      }), e.on(\"mousedown click\", \"[data-selectable]\", function () {\n        return p.onOptionSelect.apply(p, arguments);\n      }), q(c, \"mousedown\", \"*:not(input)\", function () {\n        return p.onItemSelect.apply(p, arguments);\n      }), u(d), c.on({\n        mousedown: function mousedown() {\n          return p.onMouseDown.apply(p, arguments);\n        },\n        click: function click() {\n          return p.onClick.apply(p, arguments);\n        }\n      }), d.on({\n        mousedown: function mousedown(a) {\n          a.stopPropagation();\n        },\n        keydown: function keydown() {\n          return p.onKeyDown.apply(p, arguments);\n        },\n        keyup: function keyup() {\n          return p.onKeyUp.apply(p, arguments);\n        },\n        keypress: function keypress() {\n          return p.onKeyPress.apply(p, arguments);\n        },\n        resize: function resize() {\n          p.positionDropdown.apply(p, []);\n        },\n        blur: function blur() {\n          return p.onBlur.apply(p, arguments);\n        },\n        focus: function focus() {\n          return p.ignoreBlur = !1, p.onFocus.apply(p, arguments);\n        },\n        paste: function paste() {\n          return p.onPaste.apply(p, arguments);\n        }\n      }), v.on(\"keydown\" + s, function (a) {\n        p.isCmdDown = a[f ? \"metaKey\" : \"ctrlKey\"], p.isCtrlDown = a[f ? \"altKey\" : \"ctrlKey\"], p.isShiftDown = a.shiftKey;\n      }), v.on(\"keyup\" + s, function (a) {\n        a.keyCode === h && (p.isCtrlDown = !1), 16 === a.keyCode && (p.isShiftDown = !1), a.keyCode === g && (p.isCmdDown = !1);\n      }), v.on(\"mousedown\" + s, function (a) {\n        if (p.isFocused) {\n          if (a.target === p.$dropdown[0] || a.target.parentNode === p.$dropdown[0]) return !1;\n          p.$control.has(a.target).length || a.target === p.$control[0] || p.blur(a.target);\n        }\n      }), t.on([\"scroll\" + s, \"resize\" + s].join(\" \"), function () {\n        p.isOpen && p.positionDropdown.apply(p, arguments);\n      }), t.on(\"mousemove\" + s, function () {\n        p.ignoreHover = !1;\n      }), this.revertSettings = {\n        $children: w.children().detach(),\n        tabindex: w.attr(\"tabindex\")\n      }, w.attr(\"tabindex\", -1).hide().after(p.$wrapper), a.isArray(r.items) && (p.setValue(r.items), delete r.items), i && w.on(\"invalid\" + s, function (a) {\n        a.preventDefault(), p.isInvalid = !0, p.refreshState();\n      }), p.updateOriginalInput(), p.refreshItems(), p.refreshState(), p.updatePlaceholder(), p.isSetup = !0, w.is(\":disabled\") && p.disable(), p.on(\"change\", this.onChange), w.data(\"selectize\", p), w.addClass(\"selectized\"), p.trigger(\"initialize\"), !0 === r.preload && p.onSearchChange(\"\");\n    },\n    setupTemplates: function setupTemplates() {\n      var b = this,\n          c = b.settings.labelField,\n          d = b.settings.optgroupLabelField,\n          e = {\n        optgroup: function optgroup(a) {\n          return '<div class=\"optgroup\">' + a.html + \"</div>\";\n        },\n        optgroup_header: function optgroup_header(a, b) {\n          return '<div class=\"optgroup-header\">' + b(a[d]) + \"</div>\";\n        },\n        option: function option(a, b) {\n          return '<div class=\"option\">' + b(a[c]) + \"</div>\";\n        },\n        item: function item(a, b) {\n          return '<div class=\"item\">' + b(a[c]) + \"</div>\";\n        },\n        option_create: function option_create(a, b) {\n          return '<div class=\"create\">Add <strong>' + b(a.input) + \"</strong>&hellip;</div>\";\n        }\n      };\n      b.settings.render = a.extend({}, e, b.settings.render);\n    },\n    setupCallbacks: function setupCallbacks() {\n      var a,\n          b,\n          c = {\n        initialize: \"onInitialize\",\n        change: \"onChange\",\n        item_add: \"onItemAdd\",\n        item_remove: \"onItemRemove\",\n        clear: \"onClear\",\n        option_add: \"onOptionAdd\",\n        option_remove: \"onOptionRemove\",\n        option_clear: \"onOptionClear\",\n        optgroup_add: \"onOptionGroupAdd\",\n        optgroup_remove: \"onOptionGroupRemove\",\n        optgroup_clear: \"onOptionGroupClear\",\n        dropdown_open: \"onDropdownOpen\",\n        dropdown_close: \"onDropdownClose\",\n        type: \"onType\",\n        load: \"onLoad\",\n        focus: \"onFocus\",\n        blur: \"onBlur\"\n      };\n\n      for (a in c) {\n        c.hasOwnProperty(a) && (b = this.settings[c[a]]) && this.on(a, b);\n      }\n    },\n    onClick: function onClick(a) {\n      var b = this;\n      b.isFocused && b.isOpen || (b.focus(), a.preventDefault());\n    },\n    onMouseDown: function onMouseDown(b) {\n      var c = this,\n          d = b.isDefaultPrevented();\n      a(b.target);\n\n      if (c.isFocused) {\n        if (b.target !== c.$control_input[0]) return \"single\" === c.settings.mode ? c.isOpen ? c.close() : c.open() : d || c.setActiveItem(null), !1;\n      } else d || window.setTimeout(function () {\n        c.focus();\n      }, 0);\n    },\n    onChange: function onChange() {\n      this.$input.trigger(\"change\");\n    },\n    onPaste: function onPaste(b) {\n      var c = this;\n      if (c.isFull() || c.isInputHidden || c.isLocked) return void b.preventDefault();\n      c.settings.splitOn && setTimeout(function () {\n        var b = c.$control_input.val();\n        if (b.match(c.settings.splitOn)) for (var d = a.trim(b).split(c.settings.splitOn), e = 0, f = d.length; e < f; e++) {\n          c.createItem(d[e]);\n        }\n      }, 0);\n    },\n    onKeyPress: function onKeyPress(a) {\n      if (this.isLocked) return a && a.preventDefault();\n      var b = String.fromCharCode(a.keyCode || a.which);\n      return this.settings.create && \"multi\" === this.settings.mode && b === this.settings.delimiter ? (this.createItem(), a.preventDefault(), !1) : void 0;\n    },\n    onKeyDown: function onKeyDown(a) {\n      var b = (a.target, this.$control_input[0], this);\n      if (b.isLocked) return void (9 !== a.keyCode && a.preventDefault());\n\n      switch (a.keyCode) {\n        case 65:\n          if (b.isCmdDown) return void b.selectAll();\n          break;\n\n        case 27:\n          return void (b.isOpen && (a.preventDefault(), a.stopPropagation(), b.close()));\n\n        case 78:\n          if (!a.ctrlKey || a.altKey) break;\n\n        case 40:\n          if (!b.isOpen && b.hasOptions) b.open();else if (b.$activeOption) {\n            b.ignoreHover = !0;\n            var c = b.getAdjacentOption(b.$activeOption, 1);\n            c.length && b.setActiveOption(c, !0, !0);\n          }\n          return void a.preventDefault();\n\n        case 80:\n          if (!a.ctrlKey || a.altKey) break;\n\n        case 38:\n          if (b.$activeOption) {\n            b.ignoreHover = !0;\n            var d = b.getAdjacentOption(b.$activeOption, -1);\n            d.length && b.setActiveOption(d, !0, !0);\n          }\n\n          return void a.preventDefault();\n\n        case 13:\n          return void (b.isOpen && b.$activeOption && (b.onOptionSelect({\n            currentTarget: b.$activeOption\n          }), a.preventDefault()));\n\n        case 37:\n          return void b.advanceSelection(-1, a);\n\n        case 39:\n          return void b.advanceSelection(1, a);\n\n        case 9:\n          return b.settings.selectOnTab && b.isOpen && b.$activeOption && (b.onOptionSelect({\n            currentTarget: b.$activeOption\n          }), b.isFull() || a.preventDefault()), void (b.settings.create && b.createItem() && a.preventDefault());\n\n        case 8:\n        case 46:\n          return void b.deleteSelection(a);\n      }\n\n      return !b.isFull() && !b.isInputHidden || (f ? a.metaKey : a.ctrlKey) ? void 0 : void a.preventDefault();\n    },\n    onKeyUp: function onKeyUp(a) {\n      var b = this;\n      if (b.isLocked) return a && a.preventDefault();\n      var c = b.$control_input.val() || \"\";\n      b.lastValue !== c && (b.lastValue = c, b.onSearchChange(c), b.refreshOptions(), b.trigger(\"type\", c));\n    },\n    onSearchChange: function onSearchChange(a) {\n      var b = this,\n          c = b.settings.load;\n      c && (b.loadedSearches.hasOwnProperty(a) || (b.loadedSearches[a] = !0, b.load(function (d) {\n        c.apply(b, [a, d]);\n      })));\n    },\n    onFocus: function onFocus(a) {\n      var b = this,\n          c = b.isFocused;\n      if (b.isDisabled) return b.blur(), a && a.preventDefault(), !1;\n      b.ignoreFocus || (b.isFocused = !0, \"focus\" === b.settings.preload && b.onSearchChange(\"\"), c || b.trigger(\"focus\"), b.$activeItems.length || (b.showInput(), b.setActiveItem(null), b.refreshOptions(!!b.settings.openOnFocus)), b.refreshState());\n    },\n    onBlur: function onBlur(a, b) {\n      var c = this;\n\n      if (c.isFocused && (c.isFocused = !1, !c.ignoreFocus)) {\n        if (!c.ignoreBlur && document.activeElement === c.$dropdown_content[0]) return c.ignoreBlur = !0, void c.onFocus(a);\n\n        var d = function d() {\n          c.close(), c.setTextboxValue(\"\"), c.setActiveItem(null), c.setActiveOption(null), c.setCaret(c.items.length), c.refreshState(), b && b.focus && b.focus(), c.isBlurring = !1, c.ignoreFocus = !1, c.trigger(\"blur\");\n        };\n\n        c.isBlurring = !0, c.ignoreFocus = !0, c.settings.create && c.settings.createOnBlur ? c.createItem(null, !1, d) : d();\n      }\n    },\n    onOptionHover: function onOptionHover(a) {\n      this.ignoreHover || this.setActiveOption(a.currentTarget, !1);\n    },\n    onOptionSelect: function onOptionSelect(b) {\n      var c,\n          d,\n          e = this;\n      b.preventDefault && (b.preventDefault(), b.stopPropagation()), d = a(b.currentTarget), d.hasClass(\"create\") ? e.createItem(null, function () {\n        e.settings.closeAfterSelect && e.close();\n      }) : void 0 !== (c = d.attr(\"data-value\")) && (e.lastQuery = null, e.setTextboxValue(\"\"), e.addItem(c), e.settings.closeAfterSelect ? e.close() : !e.settings.hideSelected && b.type && /mouse/.test(b.type) && e.setActiveOption(e.getOption(c)));\n    },\n    onItemSelect: function onItemSelect(a) {\n      var b = this;\n      b.isLocked || \"multi\" === b.settings.mode && (a.preventDefault(), b.setActiveItem(a.currentTarget, a));\n    },\n    load: function load(a) {\n      var b = this,\n          c = b.$wrapper.addClass(b.settings.loadingClass);\n      b.loading++, a.apply(b, [function (a) {\n        b.loading = Math.max(b.loading - 1, 0), a && a.length && (b.addOption(a), b.refreshOptions(b.isFocused && !b.isInputHidden)), b.loading || c.removeClass(b.settings.loadingClass), b.trigger(\"load\", a);\n      }]);\n    },\n    setTextboxValue: function setTextboxValue(a) {\n      var b = this.$control_input;\n      b.val() !== a && (b.val(a).triggerHandler(\"update\"), this.lastValue = a);\n    },\n    getValue: function getValue() {\n      return 1 === this.tagType && this.$input.attr(\"multiple\") ? this.items : this.items.join(this.settings.delimiter);\n    },\n    setValue: function setValue(a, b) {\n      p(this, b ? [] : [\"change\"], function () {\n        this.clear(b), this.addItems(a, b);\n      });\n    },\n    setActiveItem: function setActiveItem(b, c) {\n      var d,\n          e,\n          f,\n          g,\n          h,\n          i,\n          j,\n          k,\n          l = this;\n\n      if (\"single\" !== l.settings.mode) {\n        if (b = a(b), !b.length) return a(l.$activeItems).removeClass(\"active\"), l.$activeItems = [], void (l.isFocused && l.showInput());\n\n        if (\"mousedown\" === (d = c && c.type.toLowerCase()) && l.isShiftDown && l.$activeItems.length) {\n          for (k = l.$control.children(\".active:last\"), g = Array.prototype.indexOf.apply(l.$control[0].childNodes, [k[0]]), h = Array.prototype.indexOf.apply(l.$control[0].childNodes, [b[0]]), g > h && (j = g, g = h, h = j), e = g; e <= h; e++) {\n            i = l.$control[0].childNodes[e], -1 === l.$activeItems.indexOf(i) && (a(i).addClass(\"active\"), l.$activeItems.push(i));\n          }\n\n          c.preventDefault();\n        } else \"mousedown\" === d && l.isCtrlDown || \"keydown\" === d && this.isShiftDown ? b.hasClass(\"active\") ? (f = l.$activeItems.indexOf(b[0]), l.$activeItems.splice(f, 1), b.removeClass(\"active\")) : l.$activeItems.push(b.addClass(\"active\")[0]) : (a(l.$activeItems).removeClass(\"active\"), l.$activeItems = [b.addClass(\"active\")[0]]);\n\n        l.hideInput(), this.isFocused || l.focus();\n      }\n    },\n    setActiveOption: function setActiveOption(b, c, d) {\n      var e,\n          f,\n          g,\n          h,\n          i,\n          k = this;\n      k.$activeOption && k.$activeOption.removeClass(\"active\"), k.$activeOption = null, b = a(b), b.length && (k.$activeOption = b.addClass(\"active\"), !c && j(c) || (e = k.$dropdown_content.height(), f = k.$activeOption.outerHeight(!0), c = k.$dropdown_content.scrollTop() || 0, g = k.$activeOption.offset().top - k.$dropdown_content.offset().top + c, h = g, i = g - e + f, g + f > e + c ? k.$dropdown_content.stop().animate({\n        scrollTop: i\n      }, d ? k.settings.scrollDuration : 0) : g < c && k.$dropdown_content.stop().animate({\n        scrollTop: h\n      }, d ? k.settings.scrollDuration : 0)));\n    },\n    selectAll: function selectAll() {\n      var a = this;\n      \"single\" !== a.settings.mode && (a.$activeItems = Array.prototype.slice.apply(a.$control.children(\":not(input)\").addClass(\"active\")), a.$activeItems.length && (a.hideInput(), a.close()), a.focus());\n    },\n    hideInput: function hideInput() {\n      var a = this;\n      a.setTextboxValue(\"\"), a.$control_input.css({\n        opacity: 0,\n        position: \"absolute\",\n        left: a.rtl ? 1e4 : -1e4\n      }), a.isInputHidden = !0;\n    },\n    showInput: function showInput() {\n      this.$control_input.css({\n        opacity: 1,\n        position: \"relative\",\n        left: 0\n      }), this.isInputHidden = !1;\n    },\n    focus: function focus() {\n      var a = this;\n      a.isDisabled || (a.ignoreFocus = !0, a.$control_input[0].focus(), window.setTimeout(function () {\n        a.ignoreFocus = !1, a.onFocus();\n      }, 0));\n    },\n    blur: function blur(a) {\n      this.$control_input[0].blur(), this.onBlur(null, a);\n    },\n    getScoreFunction: function getScoreFunction(a) {\n      return this.sifter.getScoreFunction(a, this.getSearchOptions());\n    },\n    getSearchOptions: function getSearchOptions() {\n      var a = this.settings,\n          b = a.sortField;\n      return \"string\" == typeof b && (b = [{\n        field: b\n      }]), {\n        fields: a.searchField,\n        conjunction: a.searchConjunction,\n        sort: b,\n        nesting: a.nesting\n      };\n    },\n    search: function search(b) {\n      var c,\n          d,\n          e,\n          f = this,\n          g = f.settings,\n          h = this.getSearchOptions();\n      if (g.score && \"function\" != typeof (e = f.settings.score.apply(this, [b]))) throw new Error('Selectize \"score\" setting must be a function that returns a function');\n      if (b !== f.lastQuery ? (f.lastQuery = b, d = f.sifter.search(b, a.extend(h, {\n        score: e\n      })), f.currentResults = d) : d = a.extend(!0, {}, f.currentResults), g.hideSelected) for (c = d.items.length - 1; c >= 0; c--) {\n        -1 !== f.items.indexOf(k(d.items[c].id)) && d.items.splice(c, 1);\n      }\n      return d;\n    },\n    refreshOptions: function refreshOptions(b) {\n      var c, e, f, g, h, i, j, l, m, n, o, p, q, r, s, t;\n      void 0 === b && (b = !0);\n      var u = this,\n          w = a.trim(u.$control_input.val()),\n          x = u.search(w),\n          y = u.$dropdown_content,\n          z = u.$activeOption && k(u.$activeOption.attr(\"data-value\"));\n\n      for (g = x.items.length, \"number\" == typeof u.settings.maxOptions && (g = Math.min(g, u.settings.maxOptions)), h = {}, i = [], c = 0; c < g; c++) {\n        for (j = u.options[x.items[c].id], l = u.render(\"option\", j), m = j[u.settings.optgroupField] || \"\", n = a.isArray(m) ? m : [m], e = 0, f = n && n.length; e < f; e++) {\n          m = n[e], u.optgroups.hasOwnProperty(m) || (m = \"\"), h.hasOwnProperty(m) || (h[m] = document.createDocumentFragment(), i.push(m)), h[m].appendChild(l);\n        }\n      }\n\n      for (this.settings.lockOptgroupOrder && i.sort(function (a, b) {\n        return (u.optgroups[a].$order || 0) - (u.optgroups[b].$order || 0);\n      }), o = document.createDocumentFragment(), c = 0, g = i.length; c < g; c++) {\n        m = i[c], u.optgroups.hasOwnProperty(m) && h[m].childNodes.length ? (p = document.createDocumentFragment(), p.appendChild(u.render(\"optgroup_header\", u.optgroups[m])), p.appendChild(h[m]), o.appendChild(u.render(\"optgroup\", a.extend({}, u.optgroups[m], {\n          html: v(p),\n          dom: p\n        })))) : o.appendChild(h[m]);\n      }\n\n      if (y.html(o), u.settings.highlight && (y.removeHighlight(), x.query.length && x.tokens.length)) for (c = 0, g = x.tokens.length; c < g; c++) {\n        d(y, x.tokens[c].regex);\n      }\n      if (!u.settings.hideSelected) for (c = 0, g = u.items.length; c < g; c++) {\n        u.getOption(u.items[c]).addClass(\"selected\");\n      }\n      q = u.canCreate(w), q && (y.prepend(u.render(\"option_create\", {\n        input: w\n      })), t = a(y[0].childNodes[0])), u.hasOptions = x.items.length > 0 || q, u.hasOptions ? (x.items.length > 0 ? (s = z && u.getOption(z), s && s.length ? r = s : \"single\" === u.settings.mode && u.items.length && (r = u.getOption(u.items[0])), r && r.length || (r = t && !u.settings.addPrecedence ? u.getAdjacentOption(t, 1) : y.find(\"[data-selectable]:first\"))) : r = t, u.setActiveOption(r), b && !u.isOpen && u.open()) : (u.setActiveOption(null), b && u.isOpen && u.close());\n    },\n    addOption: function addOption(b) {\n      var c,\n          d,\n          e,\n          f = this;\n      if (a.isArray(b)) for (c = 0, d = b.length; c < d; c++) {\n        f.addOption(b[c]);\n      } else (e = f.registerOption(b)) && (f.userOptions[e] = !0, f.lastQuery = null, f.trigger(\"option_add\", e, b));\n    },\n    registerOption: function registerOption(a) {\n      var b = k(a[this.settings.valueField]);\n      return void 0 !== b && null !== b && !this.options.hasOwnProperty(b) && (a.$order = a.$order || ++this.order, this.options[b] = a, b);\n    },\n    registerOptionGroup: function registerOptionGroup(a) {\n      var b = k(a[this.settings.optgroupValueField]);\n      return !!b && (a.$order = a.$order || ++this.order, this.optgroups[b] = a, b);\n    },\n    addOptionGroup: function addOptionGroup(a, b) {\n      b[this.settings.optgroupValueField] = a, (a = this.registerOptionGroup(b)) && this.trigger(\"optgroup_add\", a, b);\n    },\n    removeOptionGroup: function removeOptionGroup(a) {\n      this.optgroups.hasOwnProperty(a) && (delete this.optgroups[a], this.renderCache = {}, this.trigger(\"optgroup_remove\", a));\n    },\n    clearOptionGroups: function clearOptionGroups() {\n      this.optgroups = {}, this.renderCache = {}, this.trigger(\"optgroup_clear\");\n    },\n    updateOption: function updateOption(b, c) {\n      var d,\n          e,\n          f,\n          g,\n          h,\n          i,\n          j,\n          l = this;\n\n      if (b = k(b), f = k(c[l.settings.valueField]), null !== b && l.options.hasOwnProperty(b)) {\n        if (\"string\" != typeof f) throw new Error(\"Value must be set in option data\");\n        j = l.options[b].$order, f !== b && (delete l.options[b], -1 !== (g = l.items.indexOf(b)) && l.items.splice(g, 1, f)), c.$order = c.$order || j, l.options[f] = c, h = l.renderCache.item, i = l.renderCache.option, h && (delete h[b], delete h[f]), i && (delete i[b], delete i[f]), -1 !== l.items.indexOf(f) && (d = l.getItem(b), e = a(l.render(\"item\", c)), d.hasClass(\"active\") && e.addClass(\"active\"), d.replaceWith(e)), l.lastQuery = null, l.isOpen && l.refreshOptions(!1);\n      }\n    },\n    removeOption: function removeOption(a, b) {\n      var c = this;\n      a = k(a);\n      var d = c.renderCache.item,\n          e = c.renderCache.option;\n      d && delete d[a], e && delete e[a], delete c.userOptions[a], delete c.options[a], c.lastQuery = null, c.trigger(\"option_remove\", a), c.removeItem(a, b);\n    },\n    clearOptions: function clearOptions() {\n      var b = this;\n      b.loadedSearches = {}, b.userOptions = {}, b.renderCache = {};\n      var c = b.options;\n      a.each(b.options, function (a, d) {\n        -1 == b.items.indexOf(a) && delete c[a];\n      }), b.options = b.sifter.items = c, b.lastQuery = null, b.trigger(\"option_clear\");\n    },\n    getOption: function getOption(a) {\n      return this.getElementWithValue(a, this.$dropdown_content.find(\"[data-selectable]\"));\n    },\n    getAdjacentOption: function getAdjacentOption(b, c) {\n      var d = this.$dropdown.find(\"[data-selectable]\"),\n          e = d.index(b) + c;\n      return e >= 0 && e < d.length ? d.eq(e) : a();\n    },\n    getElementWithValue: function getElementWithValue(b, c) {\n      if (void 0 !== (b = k(b)) && null !== b) for (var d = 0, e = c.length; d < e; d++) {\n        if (c[d].getAttribute(\"data-value\") === b) return a(c[d]);\n      }\n      return a();\n    },\n    getItem: function getItem(a) {\n      return this.getElementWithValue(a, this.$control.children());\n    },\n    addItems: function addItems(b, c) {\n      this.buffer = document.createDocumentFragment();\n\n      for (var d = this.$control[0].childNodes, e = 0; e < d.length; e++) {\n        this.buffer.appendChild(d[e]);\n      }\n\n      for (var f = a.isArray(b) ? b : [b], e = 0, g = f.length; e < g; e++) {\n        this.isPending = e < g - 1, this.addItem(f[e], c);\n      }\n\n      var h = this.$control[0];\n      h.insertBefore(this.buffer, h.firstChild), this.buffer = null;\n    },\n    addItem: function addItem(b, c) {\n      p(this, c ? [] : [\"change\"], function () {\n        var d,\n            e,\n            f,\n            g,\n            h,\n            i = this,\n            j = i.settings.mode;\n        if (b = k(b), -1 !== i.items.indexOf(b)) return void (\"single\" === j && i.close());\n        i.options.hasOwnProperty(b) && (\"single\" === j && i.clear(c), \"multi\" === j && i.isFull() || (d = a(i.render(\"item\", i.options[b])), h = i.isFull(), i.items.splice(i.caretPos, 0, b), i.insertAtCaret(d), (!i.isPending || !h && i.isFull()) && i.refreshState(), i.isSetup && (f = i.$dropdown_content.find(\"[data-selectable]\"), i.isPending || (e = i.getOption(b), g = i.getAdjacentOption(e, 1).attr(\"data-value\"), i.refreshOptions(i.isFocused && \"single\" !== j), g && i.setActiveOption(i.getOption(g))), !f.length || i.isFull() ? i.close() : i.isPending || i.positionDropdown(), i.updatePlaceholder(), i.trigger(\"item_add\", b, d), i.isPending || i.updateOriginalInput({\n          silent: c\n        }))));\n      });\n    },\n    removeItem: function removeItem(b, c) {\n      var d,\n          e,\n          f,\n          g = this;\n      d = b instanceof a ? b : g.getItem(b), b = k(d.attr(\"data-value\")), -1 !== (e = g.items.indexOf(b)) && (d.remove(), d.hasClass(\"active\") && (f = g.$activeItems.indexOf(d[0]), g.$activeItems.splice(f, 1)), g.items.splice(e, 1), g.lastQuery = null, !g.settings.persist && g.userOptions.hasOwnProperty(b) && g.removeOption(b, c), e < g.caretPos && g.setCaret(g.caretPos - 1), g.refreshState(), g.updatePlaceholder(), g.updateOriginalInput({\n        silent: c\n      }), g.positionDropdown(), g.trigger(\"item_remove\", b, d));\n    },\n    createItem: function createItem(b, c) {\n      var d = this,\n          e = d.caretPos;\n      b = b || a.trim(d.$control_input.val() || \"\");\n      var f = arguments[arguments.length - 1];\n      if (\"function\" != typeof f && (f = function f() {}), \"boolean\" != typeof c && (c = !0), !d.canCreate(b)) return f(), !1;\n      d.lock();\n      var g = \"function\" == typeof d.settings.create ? this.settings.create : function (a) {\n        var b = {};\n        return b[d.settings.labelField] = a, b[d.settings.valueField] = a, b;\n      },\n          h = n(function (a) {\n        if (d.unlock(), !a || \"object\" != _typeof(a)) return f();\n        var b = k(a[d.settings.valueField]);\n        if (\"string\" != typeof b) return f();\n        d.setTextboxValue(\"\"), d.addOption(a), d.setCaret(e), d.addItem(b), d.refreshOptions(c && \"single\" !== d.settings.mode), f(a);\n      }),\n          i = g.apply(this, [b, h]);\n      return void 0 !== i && h(i), !0;\n    },\n    refreshItems: function refreshItems() {\n      this.lastQuery = null, this.isSetup && this.addItem(this.items), this.refreshState(), this.updateOriginalInput();\n    },\n    refreshState: function refreshState() {\n      this.refreshValidityState(), this.refreshClasses();\n    },\n    refreshValidityState: function refreshValidityState() {\n      if (!this.isRequired) return !1;\n      var a = !this.items.length;\n      this.isInvalid = a, this.$control_input.prop(\"required\", a), this.$input.prop(\"required\", !a);\n    },\n    refreshClasses: function refreshClasses() {\n      var b = this,\n          c = b.isFull(),\n          d = b.isLocked;\n      b.$wrapper.toggleClass(\"rtl\", b.rtl), b.$control.toggleClass(\"focus\", b.isFocused).toggleClass(\"disabled\", b.isDisabled).toggleClass(\"required\", b.isRequired).toggleClass(\"invalid\", b.isInvalid).toggleClass(\"locked\", d).toggleClass(\"full\", c).toggleClass(\"not-full\", !c).toggleClass(\"input-active\", b.isFocused && !b.isInputHidden).toggleClass(\"dropdown-active\", b.isOpen).toggleClass(\"has-options\", !a.isEmptyObject(b.options)).toggleClass(\"has-items\", b.items.length > 0), b.$control_input.data(\"grow\", !c && !d);\n    },\n    isFull: function isFull() {\n      return null !== this.settings.maxItems && this.items.length >= this.settings.maxItems;\n    },\n    updateOriginalInput: function updateOriginalInput(a) {\n      var b,\n          c,\n          d,\n          e,\n          f = this;\n\n      if (a = a || {}, 1 === f.tagType) {\n        for (d = [], b = 0, c = f.items.length; b < c; b++) {\n          e = f.options[f.items[b]][f.settings.labelField] || \"\", d.push('<option value=\"' + l(f.items[b]) + '\" selected=\"selected\">' + l(e) + \"</option>\");\n        }\n\n        d.length || this.$input.attr(\"multiple\") || d.push('<option value=\"\" selected=\"selected\"></option>'), f.$input.html(d.join(\"\"));\n      } else f.$input.val(f.getValue()), f.$input.attr(\"value\", f.$input.val());\n\n      f.isSetup && (a.silent || f.trigger(\"change\", f.$input.val()));\n    },\n    updatePlaceholder: function updatePlaceholder() {\n      if (this.settings.placeholder) {\n        var a = this.$control_input;\n        this.items.length ? a.removeAttr(\"placeholder\") : a.attr(\"placeholder\", this.settings.placeholder), a.triggerHandler(\"update\", {\n          force: !0\n        });\n      }\n    },\n    open: function open() {\n      var a = this;\n      a.isLocked || a.isOpen || \"multi\" === a.settings.mode && a.isFull() || (a.focus(), a.isOpen = !0, a.refreshState(), a.$dropdown.css({\n        visibility: \"hidden\",\n        display: \"block\"\n      }), a.positionDropdown(), a.$dropdown.css({\n        visibility: \"visible\"\n      }), a.trigger(\"dropdown_open\", a.$dropdown));\n    },\n    close: function close() {\n      var a = this,\n          b = a.isOpen;\n      \"single\" === a.settings.mode && a.items.length && (a.hideInput(), a.isBlurring || a.$control_input.blur()), a.isOpen = !1, a.$dropdown.hide(), a.setActiveOption(null), a.refreshState(), b && a.trigger(\"dropdown_close\", a.$dropdown);\n    },\n    positionDropdown: function positionDropdown() {\n      var a = this.$control,\n          b = \"body\" === this.settings.dropdownParent ? a.offset() : a.position();\n      b.top += a.outerHeight(!0), this.$dropdown.css({\n        width: a[0].getBoundingClientRect().width,\n        top: b.top,\n        left: b.left\n      });\n    },\n    clear: function clear(a) {\n      var b = this;\n      b.items.length && (b.$control.children(\":not(input)\").remove(), b.items = [], b.lastQuery = null, b.setCaret(0), b.setActiveItem(null), b.updatePlaceholder(), b.updateOriginalInput({\n        silent: a\n      }), b.refreshState(), b.showInput(), b.trigger(\"clear\"));\n    },\n    insertAtCaret: function insertAtCaret(a) {\n      var b = Math.min(this.caretPos, this.items.length),\n          c = a[0],\n          d = this.buffer || this.$control[0];\n      0 === b ? d.insertBefore(c, d.firstChild) : d.insertBefore(c, d.childNodes[b]), this.setCaret(b + 1);\n    },\n    deleteSelection: function deleteSelection(b) {\n      var c,\n          d,\n          e,\n          f,\n          g,\n          h,\n          i,\n          j,\n          k,\n          l = this;\n\n      if (e = b && 8 === b.keyCode ? -1 : 1, f = r(l.$control_input[0]), l.$activeOption && !l.settings.hideSelected && (i = l.getAdjacentOption(l.$activeOption, -1).attr(\"data-value\")), g = [], l.$activeItems.length) {\n        for (k = l.$control.children(\".active:\" + (e > 0 ? \"last\" : \"first\")), h = l.$control.children(\":not(input)\").index(k), e > 0 && h++, c = 0, d = l.$activeItems.length; c < d; c++) {\n          g.push(a(l.$activeItems[c]).attr(\"data-value\"));\n        }\n\n        b && (b.preventDefault(), b.stopPropagation());\n      } else (l.isFocused || \"single\" === l.settings.mode) && l.items.length && (e < 0 && 0 === f.start && 0 === f.length ? g.push(l.items[l.caretPos - 1]) : e > 0 && f.start === l.$control_input.val().length && g.push(l.items[l.caretPos]));\n\n      if (!g.length || \"function\" == typeof l.settings.onDelete && !1 === l.settings.onDelete.apply(l, [g])) return !1;\n\n      for (void 0 !== h && l.setCaret(h); g.length;) {\n        l.removeItem(g.pop());\n      }\n\n      return l.showInput(), l.positionDropdown(), l.refreshOptions(!0), i && (j = l.getOption(i), j.length && l.setActiveOption(j)), !0;\n    },\n    advanceSelection: function advanceSelection(a, b) {\n      var c,\n          d,\n          e,\n          f,\n          g,\n          h = this;\n      0 !== a && (h.rtl && (a *= -1), c = a > 0 ? \"last\" : \"first\", d = r(h.$control_input[0]), h.isFocused && !h.isInputHidden ? (f = h.$control_input.val().length, (a < 0 ? 0 === d.start && 0 === d.length : d.start === f) && !f && h.advanceCaret(a, b)) : (g = h.$control.children(\".active:\" + c), g.length && (e = h.$control.children(\":not(input)\").index(g), h.setActiveItem(null), h.setCaret(a > 0 ? e + 1 : e))));\n    },\n    advanceCaret: function advanceCaret(a, b) {\n      var c,\n          d,\n          e = this;\n      0 !== a && (c = a > 0 ? \"next\" : \"prev\", e.isShiftDown ? (d = e.$control_input[c](), d.length && (e.hideInput(), e.setActiveItem(d), b && b.preventDefault())) : e.setCaret(e.caretPos + a));\n    },\n    setCaret: function setCaret(b) {\n      var c = this;\n\n      if (b = \"single\" === c.settings.mode ? c.items.length : Math.max(0, Math.min(c.items.length, b)), !c.isPending) {\n        var d, e, f, g;\n\n        for (f = c.$control.children(\":not(input)\"), d = 0, e = f.length; d < e; d++) {\n          g = a(f[d]).detach(), d < b ? c.$control_input.before(g) : c.$control.append(g);\n        }\n      }\n\n      c.caretPos = b;\n    },\n    lock: function lock() {\n      this.close(), this.isLocked = !0, this.refreshState();\n    },\n    unlock: function unlock() {\n      this.isLocked = !1, this.refreshState();\n    },\n    disable: function disable() {\n      var a = this;\n      a.$input.prop(\"disabled\", !0), a.$control_input.prop(\"disabled\", !0).prop(\"tabindex\", -1), a.isDisabled = !0, a.lock();\n    },\n    enable: function enable() {\n      var a = this;\n      a.$input.prop(\"disabled\", !1), a.$control_input.prop(\"disabled\", !1).prop(\"tabindex\", a.tabIndex), a.isDisabled = !1, a.unlock();\n    },\n    destroy: function destroy() {\n      var b = this,\n          c = b.eventNS,\n          d = b.revertSettings;\n      b.trigger(\"destroy\"), b.off(), b.$wrapper.remove(), b.$dropdown.remove(), b.$input.html(\"\").append(d.$children).removeAttr(\"tabindex\").removeClass(\"selectized\").attr({\n        tabindex: d.tabindex\n      }).show(), b.$control_input.removeData(\"grow\"), b.$input.removeData(\"selectize\"), 0 == --w.count && w.$testInput && (w.$testInput.remove(), w.$testInput = void 0), a(window).off(c), a(document).off(c), a(document.body).off(c), delete b.$input[0].selectize;\n    },\n    render: function render(b, c) {\n      var d,\n          e,\n          f = \"\",\n          g = !1,\n          h = this;\n      return \"option\" !== b && \"item\" !== b || (d = k(c[h.settings.valueField]), g = !!d), g && (j(h.renderCache[b]) || (h.renderCache[b] = {}), h.renderCache[b].hasOwnProperty(d)) ? h.renderCache[b][d] : (f = a(h.settings.render[b].apply(this, [c, l])), \"option\" === b || \"option_create\" === b ? c[h.settings.disabledField] || f.attr(\"data-selectable\", \"\") : \"optgroup\" === b && (e = c[h.settings.optgroupValueField] || \"\", f.attr(\"data-group\", e), c[h.settings.disabledField] && f.attr(\"data-disabled\", \"\")), \"option\" !== b && \"item\" !== b || f.attr(\"data-value\", d || \"\"), g && (h.renderCache[b][d] = f[0]), f[0]);\n    },\n    clearCache: function clearCache(a) {\n      var b = this;\n      void 0 === a ? b.renderCache = {} : delete b.renderCache[a];\n    },\n    canCreate: function canCreate(a) {\n      var b = this;\n      if (!b.settings.create) return !1;\n      var c = b.settings.createFilter;\n      return a.length && (\"function\" != typeof c || c.apply(b, [a])) && (\"string\" != typeof c || new RegExp(c).test(a)) && (!(c instanceof RegExp) || c.test(a));\n    }\n  }), w.count = 0, w.defaults = {\n    options: [],\n    optgroups: [],\n    plugins: [],\n    delimiter: \",\",\n    splitOn: null,\n    persist: !0,\n    diacritics: !0,\n    create: !1,\n    createOnBlur: !1,\n    createFilter: null,\n    highlight: !0,\n    openOnFocus: !0,\n    maxOptions: 1e3,\n    maxItems: null,\n    hideSelected: null,\n    addPrecedence: !1,\n    selectOnTab: !1,\n    preload: !1,\n    allowEmptyOption: !1,\n    closeAfterSelect: !1,\n    scrollDuration: 60,\n    loadThrottle: 300,\n    loadingClass: \"loading\",\n    dataAttr: \"data-data\",\n    optgroupField: \"optgroup\",\n    valueField: \"value\",\n    labelField: \"text\",\n    disabledField: \"disabled\",\n    optgroupLabelField: \"label\",\n    optgroupValueField: \"value\",\n    lockOptgroupOrder: !1,\n    sortField: \"$order\",\n    searchField: [\"text\"],\n    searchConjunction: \"and\",\n    mode: null,\n    wrapperClass: \"selectize-control\",\n    inputClass: \"selectize-input\",\n    dropdownClass: \"selectize-dropdown\",\n    dropdownContentClass: \"selectize-dropdown-content\",\n    dropdownParent: null,\n    copyClassesToDropdown: !0,\n    render: {}\n  }, a.fn.selectize = function (b) {\n    var c = a.fn.selectize.defaults,\n        d = a.extend({}, c, b),\n        e = d.dataAttr,\n        f = d.labelField,\n        g = d.valueField,\n        h = d.disabledField,\n        i = d.optgroupField,\n        j = d.optgroupLabelField,\n        l = d.optgroupValueField,\n        m = function m(b, c) {\n      var h,\n          i,\n          j,\n          k,\n          l = b.attr(e);\n      if (l) for (c.options = JSON.parse(l), h = 0, i = c.options.length; h < i; h++) {\n        c.items.push(c.options[h][g]);\n      } else {\n        var m = a.trim(b.val() || \"\");\n        if (!d.allowEmptyOption && !m.length) return;\n\n        for (j = m.split(d.delimiter), h = 0, i = j.length; h < i; h++) {\n          k = {}, k[f] = j[h], k[g] = j[h], c.options.push(k);\n        }\n\n        c.items = j;\n      }\n    },\n        n = function n(b, c) {\n      var m,\n          n,\n          o,\n          p,\n          q = c.options,\n          r = {},\n          s = function s(a) {\n        var b = e && a.attr(e);\n        return \"string\" == typeof b && b.length ? JSON.parse(b) : null;\n      },\n          t = function t(b, e) {\n        b = a(b);\n        var j = k(b.val());\n        if (j || d.allowEmptyOption) if (r.hasOwnProperty(j)) {\n          if (e) {\n            var l = r[j][i];\n            l ? a.isArray(l) ? l.push(e) : r[j][i] = [l, e] : r[j][i] = e;\n          }\n        } else {\n          var m = s(b) || {};\n          m[f] = m[f] || b.text(), m[g] = m[g] || j, m[h] = m[h] || b.prop(\"disabled\"), m[i] = m[i] || e, r[j] = m, q.push(m), b.is(\":selected\") && c.items.push(j);\n        }\n      };\n\n      for (c.maxItems = b.attr(\"multiple\") ? null : 1, p = b.children(), m = 0, n = p.length; m < n; m++) {\n        o = p[m].tagName.toLowerCase(), \"optgroup\" === o ? function (b) {\n          var d, e, f, g, i;\n\n          for (b = a(b), f = b.attr(\"label\"), f && (g = s(b) || {}, g[j] = f, g[l] = f, g[h] = b.prop(\"disabled\"), c.optgroups.push(g)), i = a(\"option\", b), d = 0, e = i.length; d < e; d++) {\n            t(i[d], f);\n          }\n        }(p[m]) : \"option\" === o && t(p[m]);\n      }\n    };\n\n    return this.each(function () {\n      if (!this.selectize) {\n        var e = a(this),\n            f = this.tagName.toLowerCase(),\n            g = e.attr(\"placeholder\") || e.attr(\"data-placeholder\");\n        g || d.allowEmptyOption || (g = e.children('option[value=\"\"]').text());\n        var h = {\n          placeholder: g,\n          options: [],\n          optgroups: [],\n          items: []\n        };\n        \"select\" === f ? n(e, h) : m(e, h), new w(e, a.extend(!0, {}, c, h, b));\n      }\n    });\n  }, a.fn.selectize.defaults = w.defaults, a.fn.selectize.support = {\n    validity: i\n  }, w.define(\"drag_drop\", function (b) {\n    if (!a.fn.sortable) throw new Error('The \"drag_drop\" plugin requires jQuery UI \"sortable\".');\n\n    if (\"multi\" === this.settings.mode) {\n      var c = this;\n      c.lock = function () {\n        var a = c.lock;\n        return function () {\n          var b = c.$control.data(\"sortable\");\n          return b && b.disable(), a.apply(c, arguments);\n        };\n      }(), c.unlock = function () {\n        var a = c.unlock;\n        return function () {\n          var b = c.$control.data(\"sortable\");\n          return b && b.enable(), a.apply(c, arguments);\n        };\n      }(), c.setup = function () {\n        var b = c.setup;\n        return function () {\n          b.apply(this, arguments);\n          var d = c.$control.sortable({\n            items: \"[data-value]\",\n            forcePlaceholderSize: !0,\n            disabled: c.isLocked,\n            start: function start(a, b) {\n              b.placeholder.css(\"width\", b.helper.css(\"width\")), d.css({\n                overflow: \"visible\"\n              });\n            },\n            stop: function stop() {\n              d.css({\n                overflow: \"hidden\"\n              });\n              var b = c.$activeItems ? c.$activeItems.slice() : null,\n                  e = [];\n              d.children(\"[data-value]\").each(function () {\n                e.push(a(this).attr(\"data-value\"));\n              }), c.setValue(e), c.setActiveItem(b);\n            }\n          });\n        };\n      }();\n    }\n  }), w.define(\"dropdown_header\", function (b) {\n    var c = this;\n    b = a.extend({\n      title: \"Untitled\",\n      headerClass: \"selectize-dropdown-header\",\n      titleRowClass: \"selectize-dropdown-header-title\",\n      labelClass: \"selectize-dropdown-header-label\",\n      closeClass: \"selectize-dropdown-header-close\",\n      html: function html(a) {\n        return '<div class=\"' + a.headerClass + '\"><div class=\"' + a.titleRowClass + '\"><span class=\"' + a.labelClass + '\">' + a.title + '</span><a href=\"javascript:void(0)\" class=\"' + a.closeClass + '\">&times;</a></div></div>';\n      }\n    }, b), c.setup = function () {\n      var d = c.setup;\n      return function () {\n        d.apply(c, arguments), c.$dropdown_header = a(b.html(b)), c.$dropdown.prepend(c.$dropdown_header);\n      };\n    }();\n  }), w.define(\"optgroup_columns\", function (b) {\n    var c = this;\n    b = a.extend({\n      equalizeWidth: !0,\n      equalizeHeight: !0\n    }, b), this.getAdjacentOption = function (b, c) {\n      var d = b.closest(\"[data-group]\").find(\"[data-selectable]\"),\n          e = d.index(b) + c;\n      return e >= 0 && e < d.length ? d.eq(e) : a();\n    }, this.onKeyDown = function () {\n      var a = c.onKeyDown;\n      return function (b) {\n        var d, e, f, g;\n        return !this.isOpen || 37 !== b.keyCode && 39 !== b.keyCode ? a.apply(this, arguments) : (c.ignoreHover = !0, g = this.$activeOption.closest(\"[data-group]\"), d = g.find(\"[data-selectable]\").index(this.$activeOption), g = 37 === b.keyCode ? g.prev(\"[data-group]\") : g.next(\"[data-group]\"), f = g.find(\"[data-selectable]\"), e = f.eq(Math.min(f.length - 1, d)), void (e.length && this.setActiveOption(e)));\n      };\n    }();\n\n    var d = function d() {\n      var a,\n          b = d.width,\n          c = document;\n      return void 0 === b && (a = c.createElement(\"div\"), a.innerHTML = '<div style=\"width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;\"><div style=\"width:1px;height:100px;\"></div></div>', a = a.firstChild, c.body.appendChild(a), b = d.width = a.offsetWidth - a.clientWidth, c.body.removeChild(a)), b;\n    },\n        e = function e() {\n      var e, f, g, h, i, j, k;\n\n      if (k = a(\"[data-group]\", c.$dropdown_content), (f = k.length) && c.$dropdown_content.width()) {\n        if (b.equalizeHeight) {\n          for (g = 0, e = 0; e < f; e++) {\n            g = Math.max(g, k.eq(e).height());\n          }\n\n          k.css({\n            height: g\n          });\n        }\n\n        b.equalizeWidth && (j = c.$dropdown_content.innerWidth() - d(), h = Math.round(j / f), k.css({\n          width: h\n        }), f > 1 && (i = j - h * (f - 1), k.eq(f - 1).css({\n          width: i\n        })));\n      }\n    };\n\n    (b.equalizeHeight || b.equalizeWidth) && (m.after(this, \"positionDropdown\", e), m.after(this, \"refreshOptions\", e));\n  }), w.define(\"remove_button\", function (b) {\n    b = a.extend({\n      label: \"&times;\",\n      title: \"Remove\",\n      className: \"remove\",\n      append: !0\n    }, b);\n    if (\"single\" === this.settings.mode) return void function (b, c) {\n      c.className = \"remove-single\";\n\n      var d = b,\n          e = '<a href=\"javascript:void(0)\" class=\"' + c.className + '\" tabindex=\"-1\" title=\"' + l(c.title) + '\">' + c.label + \"</a>\",\n          f = function f(b, c) {\n        return a(\"<span>\").append(b).append(c);\n      };\n\n      b.setup = function () {\n        var g = d.setup;\n        return function () {\n          if (c.append) {\n            var h = a(d.$input.context).attr(\"id\"),\n                i = (a(\"#\" + h), d.settings.render.item);\n\n            d.settings.render.item = function (a) {\n              return f(i.apply(b, arguments), e);\n            };\n          }\n\n          g.apply(b, arguments), b.$control.on(\"click\", \".\" + c.className, function (a) {\n            a.preventDefault(), d.isLocked || d.clear();\n          });\n        };\n      }();\n    }(this, b);\n    !function (b, c) {\n      var d = b,\n          e = '<a href=\"javascript:void(0)\" class=\"' + c.className + '\" tabindex=\"-1\" title=\"' + l(c.title) + '\">' + c.label + \"</a>\",\n          f = function f(a, b) {\n        var c = a.search(/(<\\/[^>]+>\\s*)$/);\n        return a.substring(0, c) + b + a.substring(c);\n      };\n\n      b.setup = function () {\n        var g = d.setup;\n        return function () {\n          if (c.append) {\n            var h = d.settings.render.item;\n\n            d.settings.render.item = function (a) {\n              return f(h.apply(b, arguments), e);\n            };\n          }\n\n          g.apply(b, arguments), b.$control.on(\"click\", \".\" + c.className, function (b) {\n            if (b.preventDefault(), !d.isLocked) {\n              var c = a(b.currentTarget).parent();\n              d.setActiveItem(c), d.deleteSelection() && d.setCaret(d.items.length);\n            }\n          });\n        };\n      }();\n    }(this, b);\n  }), w.define(\"restore_on_backspace\", function (a) {\n    var b = this;\n    a.text = a.text || function (a) {\n      return a[this.settings.labelField];\n    }, this.onKeyDown = function () {\n      var c = b.onKeyDown;\n      return function (b) {\n        var d, e;\n        return 8 === b.keyCode && \"\" === this.$control_input.val() && !this.$activeItems.length && (d = this.caretPos - 1) >= 0 && d < this.items.length ? (e = this.options[this.items[d]], this.deleteSelection(b) && (this.setTextboxValue(a.text.apply(this, [e])), this.refreshOptions(!0)), void b.preventDefault()) : c.apply(this, arguments);\n      };\n    }();\n  }), w;\n});","map":null,"metadata":{},"sourceType":"module"}